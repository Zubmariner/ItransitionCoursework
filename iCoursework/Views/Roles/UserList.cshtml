@using iCoursework.Views.Roles
@model IEnumerable<iCoursework.Models.ApplicationUser>
@{
    ViewData["Title"] = "User list";
    ViewData.AddActivePage(RolesPages.UserList);
}

<head>
    <script type="text/javascript" src="@Url.Content("~/lib/jquery/dist/jquery.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/js/site.js")"></script>
</head>

<h4>Список пользователей</h4>
<div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
    <div class="btn-group" role="group" aria-label="First group">
        <form asp-controller="Account" asp-action="BlockUser" method="post">
            <button type="submit" class="btn btn-warning" id="BlockButton">
                <strong>Block user</strong>
            </button>
        </form>
    </div>
    <div class="btn-group" role="group" aria-label="Second group">
        <form asp-controller="Account" asp-action="UnblockUser" method="post">
        <button type="submit" class="btn btn-success glyphicon glyphicon-eye-open" id="UnblockButton" />
        </form>
    </div>
    <div class="btn-group" role="group" aria-label="Third group">
        <form asp-controller="Account" asp-action="DeleteUser" method="post">
        <button type="submit" class="btn btn-danger glyphicon glyphicon-trash" id="DeleteButton" />
        </form>
    </div>
</div><br/>
<table class="table  table-hover table-bordered table-condensed">
    <thead>
        <tr>
            <th><input type="checkbox" class="form-"id="CheckParent" /></th>
            <th><h5><strong>Login</strong></h5></th>
            <th><h5><strong>Blocked</strong></h5></th>
            <th><h5><strong>Roles</strong></h5></th>
        </tr>
    </thead>
    @foreach (var user in Model)
    {
        <tr>
            <td><input type="checkbox" class="CheckChild" value="@user.Id"/></td>
            <td>@user.Email</td>
            <td>@user.IsBlocked</td>
            <td>
                <a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-userid="@user.Id">Права доступа</a>
            </td>
        </tr>
    }
</table>